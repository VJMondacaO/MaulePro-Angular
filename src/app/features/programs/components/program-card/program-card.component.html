<!-- Program Card Component -->
<article class="program-card" [ngClass]="getClaseEstado()">
  <p-card [styleClass]="'program-card-wrapper'">
    <div class="program-card-content">
      <div class="tipo-fondo-corner" *ngIf="program.tipoFondo">
        <span>{{ program.tipoFondo }}</span>
      </div>
      <div class="program-card-header">
        <p-tag 
          [value]="getEstadoTag()" 
          [severity]="getEstadoSeverity()" 
          styleClass="status-badge"
          [ngStyle]="{'background': getEstadoColor(), 'background-color': getEstadoColor(), 'border': '1px solid ' + getEstadoBorderColor(), 'border-color': getEstadoBorderColor(), 'color': getEstadoTextColor()}">
        </p-tag>
        <p-tag 
          *ngIf="mostrarDiasRestantes()" 
          [value]="getTextoPlazoDias()" 
          [severity]="getSeveridadDiasRestantes()" 
          styleClass="dias-restantes-badge"
          icon="pi pi-clock">
        </p-tag>
      </div>
      
      <div class="program-card-body">
        <h3 class="program-card-title">{{ program.titulo }}</h3>
        <p class="program-card-description">{{ program.descripcion }}</p>
        
        <!-- Fechas y Plazos -->
        <div class="program-card-plazos" *ngIf="program.fechaInicio && program.fechaFin">
          <div class="plazo-item">
            <div class="feature-icon">
              <i class="pi pi-calendar"></i>
            </div>
            <div class="plazo-content">
              <strong>Plazo de postulaci√≥n</strong>
              <span>{{ program.fechaInicio }} - {{ program.fechaFin }}</span>
            </div>
          </div>
        </div>
        
        <div class="program-card-features">
          <div class="feature-item">
            <div class="feature-icon">
              <i class="pi pi-users"></i>
            </div>
            <div class="feature-content">
              <strong>Beneficiarios</strong>
              <div class="beneficiarios-text">
                <span *ngFor="let linea of getBeneficiariosDivididos()">{{ linea }}</span>
              </div>
            </div>
          </div>
          <div class="feature-item">
            <div class="feature-icon">
              <i class="pi pi-wallet"></i>
            </div>
            <div class="feature-content">
              <strong>Monto</strong>
              <span>{{ program.montos }}</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="program-card-footer">
        <button 
          *ngIf="program.rutaDetalles"
          pButton 
          type="button" 
          label="Ver detalles" 
          icon="pi pi-arrow-right"
          iconPos="right"
          [routerLink]="program.rutaDetalles"
          [class]="'btn-details ' + (getEstadoReal() === 'closed' ? 'btn-details-closed' : '')"
          [style.background-color]="getEstadoReal() === 'closed' ? '#6C757D' : (getEstadoReal() === 'soon' ? '#FFE082' : null)"
          [style.border-color]="getEstadoReal() === 'closed' ? '#6C757D' : (getEstadoReal() === 'soon' ? '#FFE082' : null)"
          [style.color]="getEstadoReal() === 'closed' ? '#FFFFFF' : (getEstadoReal() === 'soon' ? '#333' : null)">
        </button>
      </div>
    </div>
  </p-card>
</article>
