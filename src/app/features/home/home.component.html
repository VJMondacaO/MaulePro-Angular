<div class="container">
  <div class="grid">
    <!-- Hero Section -->
    <div class="col-12">
      <app-hero></app-hero>
    </div>

    <!-- Lista de Programas -->
    <div class="col-12 mt-4">
      <!-- Panel Integrado: Título, Filtros y Búsqueda -->
      <div class="programs-header-panel">
        <div class="panel-header">
          <h3 class="section-title">Fondos Disponibles</h3>
          <p class="programs-count">
            Mostrando <strong>{{ filteredPrograms.length }}</strong> de <strong>{{ programas.length }}</strong> programas
          </p>
        </div>
        
        <div class="panel-filters">
          <div class="filters-row">
            <p-dropdown 
              [options]="estadoOptions" 
              [(ngModel)]="selectedEstado"
              (onChange)="filterPrograms()"
              placeholder="Estado"
              optionLabel="label"
              optionValue="value"
              [showClear]="true"
              styleClass="filter-dropdown estado-filter">
            </p-dropdown>
            
            <p-dropdown 
              [options]="tipoFondoOptions" 
              [(ngModel)]="selectedTipoFondo"
              (onChange)="filterPrograms()"
              placeholder="Tipo de Fondo"
              optionLabel="label"
              optionValue="value"
              [showClear]="true"
              styleClass="filter-dropdown tipo-fondo-filter">
            </p-dropdown>
            
            <div class="contenedor-busqueda">
              <input 
                type="text" 
                pInputText 
                [(ngModel)]="searchTerm"
                (input)="filterPrograms()"
                (keyup.enter)="onSearchClick()"
                placeholder="Buscar programas..." 
                class="barra-busqueda w-full" />
              <button 
                pButton
                type="button"
                label="Buscar"
                icon="pi pi-search"
                (click)="onSearchClick()"
                class="boton-buscar">
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Grid de Cards de Programa -->
      <div class="grid programas-grid">
        <div 
          class="col-12 md:col-6 lg:col-3" 
          *ngFor="let programa of filteredPrograms">
          <app-program-card [program]="programa"></app-program-card>
        </div>
      </div>
    </div>

    <!-- Sección de Beneficios -->
    <div class="col-12">
      <div class="beneficios-section">
        <h3 class="pasos-titulo">Pasos de Postulación</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          <div 
            class="beneficio-card"
            *ngFor="let item of incentives">
            <div class="beneficio-icon-wrapper">
              <i [class]="item.icon" class="beneficio-icon"></i>
            </div>
            <div class="beneficio-content">
              <h3 class="beneficio-title">{{ item.title }}</h3>
              <p class="beneficio-description">{{ item.description }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sección de Servicios -->
    <div class="col-12">
      <div class="servicios-section">
        <h2 class="servicios-titulo">Información para Postulantes</h2>
        <p class="servicios-descripcion">
          Conozca los pasos esenciales del proceso de postulación.
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 justify-items-center">
          <div 
            class="servicio-card"
            *ngFor="let servicio of servicios">
            <span class="servicio-icon-box">
              <i [class]="servicio.icon" class="servicio-icon"></i>
            </span>
            <h5 class="servicio-titulo">{{ servicio.title }}</h5>
            <p class="servicio-descripcion">{{ servicio.description }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
