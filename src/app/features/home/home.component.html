<div class="max-w-full w-full mx-auto box-border px-6 md:px-8 lg:px-48">
  <div class="w-full">
    <!-- Hero Section -->
    <div class="w-full bg-transparent relative w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] box-border px-6 md:px-8 lg:px-48">
      <app-hero></app-hero>
    </div>

    <!-- Lista de Programas -->
    <div id="fondos-disponibles" class="w-full bg-slate-50 pt-4 pb-8 mt-4 overflow-x-hidden relative w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] box-border md:pt-4 md:pb-12">
      <div class="max-w-full w-full mx-auto box-border px-6 md:px-8 lg:px-48">
        <!-- Panel Integrado: Título, Filtros y Búsqueda -->
        <div class="bg-white rounded-2xl p-6 mt-0 mb-8 shadow-md border border-gray-200 md:mt-2 md:mb-10 md:p-7 lg:mt-4 lg:mb-12 lg:p-8">
          <div class="flex flex-col gap-2 mb-6 pb-4 border-b-2 border-gray-100 md:flex-row md:items-center md:justify-between md:gap-6">
            <h3 class="text-2xl font-bold text-[#1C1C1C] m-0 leading-[1.3] tracking-tight md:text-3xl lg:text-4xl">Fondos Disponibles</h3>
            <p class="m-0 text-gray-500 text-[0.95rem] whitespace-nowrap">
              Mostrando <strong class="text-[#1C1C1C] font-semibold">{{ filteredPrograms().length }}</strong> de <strong class="text-[#1C1C1C] font-semibold">{{ programas().length }}</strong> programas
            </p>
          </div>
        
          <div class="w-full">
            <div class="flex flex-col gap-4 w-full md:flex-row md:items-center lg:gap-5">
              <p-dropdown 
                [options]="estadoOptions" 
                [ngModel]="selectedEstado()"
                (ngModelChange)="selectedEstado.set($event)"
                placeholder="Estado"
                optionLabel="label"
                optionValue="value"
                [showClear]="true"
                styleClass="w-full md:w-48">
              </p-dropdown>
              
              <p-dropdown 
                [options]="tipoFondoOptions()" 
                [ngModel]="selectedTipoFondo()"
                (ngModelChange)="selectedTipoFondo.set($event)"
                placeholder="Tipo de Fondo"
                optionLabel="label"
                optionValue="value"
                [showClear]="true"
                styleClass="w-full md:w-64">
              </p-dropdown>
              
              <div class="flex-1 min-w-[200px] flex items-center gap-3 md:flex-[1.5] md:min-w-[250px] md:gap-4">
                <input 
                  type="text" 
                  pInputText 
                  [ngModel]="searchTerm()"
                  (ngModelChange)="searchTerm.set($event)"
                  (keyup.enter)="onSearchClick()"
                  placeholder="Buscar programas..." 
                  class="w-full" />
                <button 
                  pButton
                  type="button"
                  label="Buscar"
                  icon="pi pi-search"
                  (click)="onSearchClick()">
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Grid de Cards de Programa -->
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 3xl:grid-cols-4 gap-6 md:gap-5 xl:gap-8">
          @for (programa of filteredPrograms(); track programa.id) {
            <div class="flex flex-col items-stretch box-border h-[535px] max-h-[535px]">
              <app-program-card [program]="programa" class="w-full flex flex-auto items-stretch h-full"></app-program-card>
            </div>
          }
        </div>
      </div>
    </div>

    <!-- Sección de Beneficios -->
    <div class="w-full bg-transparent pt-8 pb-8 overflow-x-hidden relative w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] box-border md:pt-12 md:pb-12">
      <div class="max-w-full w-full mx-auto box-border px-6 md:px-8 lg:px-48">
        <div class="mt-0 mb-0 flex flex-col items-center w-full">
          <h3 class="text-2xl font-bold text-[#1C1C1C] mb-3 leading-[1.3] tracking-tight text-center md:text-3xl lg:text-4xl">Pasos de Postulación</h3>
          <p class="text-base leading-relaxed text-slate-500 text-center mx-auto mb-6 px-6 max-w-full w-[calc(100%-3rem)] box-border md:text-lg md:max-w-[800px] md:w-auto">Siga estos pasos para completar su postulación exitosamente</p>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full">
            @for (item of incentives; track item.title) {
              <div class="bg-white rounded-2xl p-8 flex flex-col items-center text-center gap-6 shadow-md border border-gray-200 transition-all duration-500 h-full relative overflow-hidden hover:shadow-lg hover:-translate-y-0.5 hover:scale-[1.02] md:p-6 beneficio-card">
                <div class="w-16 h-16 flex items-center justify-center bg-[rgba(0,102,204,0.1)] rounded-2xl transition-all duration-500 md:w-14 md:h-14 beneficio-icon-wrapper">
                  <i [class]="item.icon" class="text-3xl text-primary transition-all duration-300 md:text-2xl beneficio-icon"></i>
                </div>
                <div class="flex flex-col gap-3">
                  <h3 class="text-lg font-bold text-slate-800 m-0 leading-snug md:text-base">{{ item.title }}</h3>
                  <p class="text-[0.95rem] text-slate-500 m-0 leading-relaxed text-center hyphens-none md:text-sm">{{ item.description }}</p>
                </div>
              </div>
            }
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
